<div 
  #window
  class="data-window" 
  [class.pinned]="tableState.pinned"
  [style.left.px]="tableState.x" 
  [style.top.px]="tableState.y"
  [style.width.px]="tableState.width" 
  [style.height.px]="tableState.height"
  [style.z-index]="tableState.zIndex"
  cdkDrag
  [cdkDragDisabled]="tableState.pinned"
  (cdkDragStarted)="onDragStarted()"
  (cdkDragEnded)="onDragEnded($event)"
  (click)="onWindowClick()">
  
  <div class="window-header" cdkDragHandle>
    <div class="window-title">{{ tableState.name }}</div>
    <div class="window-controls">
      <button class="pin-button" (click)="onPinClick($event)">
        <i [class]="tableState.pinned ? 'pinned' : 'unpinned'">ðŸ“Œ</i>
      </button>
      <button class="close-button" (click)="onCloseClick($event)">âœ•</button>
    </div>
  </div>
  
  <div class="window-content">
    <app-data-table 
      [data]="tableState.data || []" 
      [columns]="tableState.columns || []">
    </app-data-table>
  </div>
  
  <div 
    #resizeHandle
    class="resize-handle" 
    [class.disabled]="tableState.pinned"
    (mousedown)="startResize($event)">
    â¤¡
  </div>
</div>
